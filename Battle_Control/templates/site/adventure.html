<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modo Aventura</title>
    <style>
      body {
        background-color: #18191C;
        text-align: center;
        color: white;
        font-family: "Helvetica Neue", Arial, Helvetica, sans-serif;
        cursor: default;
}
    </style>
</head>
<body>
<h2>Adicionar Itens a Personagens</h2>
<form method="post">
  {% csrf_token %}
  <label for="personagem">Personagem:</label>
  <select name="personagem_id" required>
    {% for p in personagens %}
      <option value="{{ p.id }}">{{ p.nome }}</option>
    {% endfor %}
  </select>

  <label for="item">Item:</label>
  <select name="item_id" required>
    {% for i in itens %}
      <option value="{{ i.id }}">{{ i.nome }}</option>
    {% endfor %}
  </select>

  <label for="quantidade">Quantidade:</label>
  <input type="number" name="quantidade" min="1" value="1" required>

  <button type="submit">Adicionar</button>
</form>
<a class="link" href="{% url 'rpg:batalhar' %}">Inicar Batalha</a>

<hr>

<h2>Invent√°rio dos Personagens</h2>
{% for bloco in inventarios_por_personagem %}
  <h3>{{ bloco.personagem.nome }}</h3>
  <ul>
    {% for inv in bloco.itens %}
      <li>
        {{ inv.item.nome }} x{{ inv.quantidade }}
        <form action="{% url 'rpg:remover_item' inv.id %}" method="post" style="display:inline;">
          {% csrf_token %}
          <button type="submit">Remover</button>
        </form>
        <form action="{% url 'rpg:editar_item' inv.id %}" method="post" style="display:inline;">
          {% csrf_token %}
          <input type="number" name="quantidade" value="{{ inv.quantidade }}" min="1" required>
          <button type="submit">Atualizar</button>
        </form>
      </li>
    {% empty %}
      <li>Nenhum item</li>
    {% endfor %}
  </ul>
  
{% endfor %}
<h2>Dinheiro dos Personagens</h2>
{% for personagem in personagens %}
  <h3>{{ personagem.nome }}</h3>
  <form action="{% url 'rpg:editar_dinheiro' personagem.id %}" method="post">
    {% csrf_token %}
    {% with personagem.dinheiro as d %}
      <label>Bronze:</label>
      <input type="number" name="bronze" value="{{ d.bronze }}" min="0">
      <label>Prata:</label>
      <input type="number" name="prata" value="{{ d.prata }}" min="0">
      <label>Ouro:</label>
      <input type="number" name="ouro" value="{{ d.ouro }}" min="0">
      <label>Platina:</label>
      <input type="number" name="platina" value="{{ d.platina }}" min="0">
    {% endwith %}
    <button type="submit">Atualizar Dinheiro</button>
  </form>
{% endfor %}
</body>
</html>